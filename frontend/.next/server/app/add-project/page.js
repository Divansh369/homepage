(()=>{var e={};e.id=686,e.ids=[686],e.modules={440:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/divansh/homepage/frontend/app/add-project/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/divansh/homepage/frontend/app/add-project/page.tsx","default")},2704:()=>{},2709:(e,t,r)=>{Promise.resolve().then(r.bind(r,4011))},2894:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,N:()=>n});var o=r(687),s=r(3210);let a=(0,s.createContext)(void 0),n=({children:e})=>{let[t,r]=(0,s.useState)("light");(0,s.useEffect)(()=>{let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,o=e||(t?"dark":"light");r(o),document.documentElement.setAttribute("data-theme",o)},[]);let n=()=>{r(e=>{let t="light"===e?"dark":"light";return localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),t})},i=(0,s.useMemo)(()=>({theme:t,toggleTheme:n}),[t]);return(0,o.jsx)(a.Provider,{value:i,children:e})},i=()=>{let e=(0,s.useContext)(a);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3509:(e,t,r)=>{Promise.resolve().then(r.bind(r,8972))},3873:e=>{"use strict";e.exports=require("path")},4011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(687),s=r(3210),a=r(5814),n=r.n(a),i=r(36),l=r(2894),d=r(474);let c=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app/add-project/page.tsx -> react-select"]},ssr:!1,loading:()=>(0,o.jsx)("div",{style:{minHeight:"38px",padding:"8px 10px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#eee",color:"#aaa"},children:"Loading..."})}),m=process.env.NEXT_PUBLIC_FIXED_HOST||"",p="http://localhost:1024";function h(){let{theme:e}=(0,l.D)(),[t,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[h,u]=(0,s.useState)(null),[x,v]=(0,s.useState)(!1),[j,f]=(0,s.useState)(null),[b,g]=(0,s.useState)(null),[P,y]=(0,s.useState)(null),[C,N]=(0,s.useState)({projectName:"",description:"",iconFilename:"",startCommand:"",stopCommand:"",scheme:"http",port:"",host:m}),[w,F]=(0,s.useState)([]),S=e=>{let{name:t,value:r}=e.target;N(e=>({...e,[t]:r}))},k=()=>{N({projectName:"",description:"",iconFilename:"",startCommand:"",stopCommand:"",scheme:"http",port:"",host:m}),F([])},_=async e=>{let t=e.target.files?.[0];if(!t)return;y(null);let r=new FormData;r.append("icon",t);try{let e=await fetch(`${p}/api/upload/icon`,{method:"POST",body:r}),t=await e.json();if(!e.ok)throw Error(t.error||"Upload failed");N(e=>({...e,iconFilename:t.filePath}))}catch(e){console.error("Upload error:",e),y(e.message)}},E=(0,s.useCallback)(()=>t.map(e=>({value:String(e.id),label:`${e.name} (${e.label_type})`})),[t]),I=async e=>{if(e.preventDefault(),f(null),g(null),!C.projectName||!C.startCommand||!C.port){f("Project Name, Start Command, and a valid Port are required.");return}v(!0);let t={...C,selectedLabels:w.map(e=>parseInt(e.value))};try{let e=await fetch(`${p}/api/add-project`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to add project");g(`Project "${t.projectName}" added successfully!`),k()}catch(e){f(`Failed to add project: ${e.message}`)}finally{v(!1)}},q=C.iconFilename?`${p}${C.iconFilename}`:null;return(0,o.jsxs)("div",{className:`container ${e}`,children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("h1",{children:"Add New Project"}),(0,o.jsx)(n(),{href:"/",className:"back-link",children:"â† Back to Dashboard"})]}),(0,o.jsx)("div",{className:"add-form-container",children:(0,o.jsxs)("form",{onSubmit:I,className:"add-form",children:[j&&(0,o.jsx)("p",{className:"error-message",children:j}),b&&(0,o.jsx)("p",{className:"success-message",children:b}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"icon-upload",children:"Project Icon"}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[q&&(0,o.jsx)(d.default,{src:q,alt:"Icon Preview",width:40,height:40,style:{borderRadius:"5px"},unoptimized:!0}),(0,o.jsx)("input",{type:"file",id:"icon-upload",name:"icon",onChange:_,accept:"image/*"})]}),P&&(0,o.jsx)("small",{style:{color:"var(--color-error-text)",marginTop:"5px"},children:P}),(0,o.jsx)("small",{children:"Upload an icon (optional). It will populate the read-only path field below."})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"iconFilename",children:"Icon Path (read-only):"}),(0,o.jsx)("input",{type:"text",name:"iconFilename",value:C.iconFilename,readOnly:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"projectName",children:"Name:"}),(0,o.jsx)("input",{type:"text",name:"projectName",value:C.projectName,onChange:S,required:!0,autoFocus:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,o.jsx)("input",{type:"text",name:"description",value:C.description,onChange:S})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"startCommand",children:"Start Command:"}),(0,o.jsx)("input",{type:"text",name:"startCommand",value:C.startCommand,onChange:S,required:!0,placeholder:"e.g., npm run start"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"stopCommand",children:"Stop Command:"}),(0,o.jsx)("input",{type:"text",name:"stopCommand",value:C.stopCommand,onChange:S,placeholder:"e.g., kill-port 8000"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"port",children:"Port:"}),(0,o.jsx)("input",{type:"number",name:"port",value:C.port,onChange:S,required:!0,placeholder:"e.g., 8000"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"scheme",children:"Scheme:"}),(0,o.jsxs)("select",{name:"scheme",value:C.scheme,onChange:S,children:[(0,o.jsx)("option",{value:"http",children:"http"}),(0,o.jsx)("option",{value:"httpss",children:"https"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"host",children:"Host:"}),(0,o.jsx)("input",{type:"text",name:"host",value:C.host,onChange:S,placeholder:m||"e.g., localhost"})]}),(0,o.jsxs)("div",{className:"form-group label-selector",children:[(0,o.jsx)("label",{htmlFor:"labels",children:"Assign Labels:"}),a?(0,o.jsx)("p",{children:"Loading..."}):h?(0,o.jsx)("p",{className:"error-message",children:h}):(0,o.jsx)(c,{instanceId:"add-project-label-select",inputId:"labels",isMulti:!0,name:"labels",options:E(),className:"react-select-instance",classNamePrefix:"react-select",value:w,onChange:e=>{F(e)}})]}),(0,o.jsx)("button",{type:"submit",className:"action-button add-button",disabled:x||a,children:x?"Adding...":"Add Project"})]})})]})}},5365:(e,t,r)=>{Promise.resolve().then(r.bind(r,8402))},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(1658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},7112:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var o=r(5239),s=r(8088),a=r(8170),n=r.n(a),i=r(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["add-project",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2053)),"/home/divansh/homepage/frontend/app/add-project/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/home/divansh/homepage/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/divansh/homepage/frontend/app/add-project/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/add-project/page",pathname:"/add-project",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7288:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(7413),s=r(8972);function a({children:e}){return(0,o.jsx)("html",{lang:"en",children:(0,o.jsxs)("body",{children:[(0,o.jsx)(s.Providers,{children:e})," "]})})}r(2704)},8402:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>a});var o=r(687),s=r(2894);function a({children:e}){return(0,o.jsx)(s.N,{children:e})}},8972:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>o});let o=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/divansh/homepage/frontend/app/providers.tsx","Providers")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9141:(e,t,r)=>{Promise.resolve().then(r.bind(r,2053))},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,825,567,277],()=>r(7112));module.exports=o})();