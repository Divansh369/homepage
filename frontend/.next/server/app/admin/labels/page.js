(()=>{var e={};e.id=980,e.ids=[980],e.modules={126:(e,t,a)=>{Promise.resolve().then(a.bind(a,8549))},390:(e,t,a)=>{Promise.resolve().then(a.bind(a,7786))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1961:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(687),s=a(3210),r=a(5814),i=a.n(r),l=a(4517),o=a(5370);function d(){let{availableLabels:e,isLoading:t,error:a,fetchInitialData:r}=(0,l.I)(e=>({availableLabels:e.availableLabels,isLoading:e.isLoading,error:e.error,fetchInitialData:e.fetchInitialData}),o.x),[d,c]=(0,s.useState)(null),[h,u]=(0,s.useState)({name:"",type:"language"}),m=e=>{c(e.id),u({name:e.name,type:e.label_type})},p=()=>{c(null)},x=e=>{let{name:t,value:a}=e.target;u(e=>({...e,[t]:a}))},b=async e=>{try{let t=await fetch(`http://localhost:1024/api/labels/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to update label");await r(),c(null)}catch(e){alert(`Failed to save label: ${e.message}`)}},f=async(e,t)=>{if(window.confirm(`Are you sure you want to delete the label "${t}"? This will remove it from all projects.`))try{let t=await fetch(`http://localhost:1024/api/labels/${e}`,{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete label");await r()}catch(e){alert(`Failed to delete label: ${e.message}`)}};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"admin-page-header",children:[(0,n.jsx)("h2",{children:"Manage Labels"}),(0,n.jsx)(i(),{href:"/add-label",className:"action-button nav-add-button",children:"+ Add New Label"})]}),t&&(0,n.jsx)("p",{children:"Loading labels..."}),a&&(0,n.jsx)("p",{className:"error-message",children:a}),!t&&(0,n.jsx)("div",{className:"admin-table-container",children:(0,n.jsxs)("table",{className:"admin-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"ID"}),(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{style:{width:"200px"},children:"Actions"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>{let t=d===e.id;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.id}),(0,n.jsx)("td",{children:t?(0,n.jsx)("input",{type:"text",name:"name",className:"inline-edit-input",value:h.name,onChange:x}):e.name}),(0,n.jsx)("td",{children:t?(0,n.jsxs)("select",{name:"type",className:"inline-edit-input",value:h.type,onChange:x,children:[(0,n.jsx)("option",{value:"language",children:"language"}),(0,n.jsx)("option",{value:"utility",children:"utility"})]}):e.label_type}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"action-cell",children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>b(e.id),className:"action-button-table save",children:"Save"}),(0,n.jsx)("button",{onClick:p,className:"action-button-table cancel",children:"Cancel"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>m(e),className:"action-button-table edit",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>f(e.id,e.name),className:"action-button-table delete",children:"Delete"})]})})})]},e.id)})})]})}),!t&&0===e.length&&(0,n.jsx)("p",{children:"No labels found."})]})}},2197:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4423:(e,t,a)=>{Promise.resolve().then(a.bind(a,7423))},6080:()=>{},6189:(e,t,a)=>{"use strict";var n=a(5773);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})},7423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/divansh/homepage/frontend/app/admin/labels/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/divansh/homepage/frontend/app/admin/labels/page.tsx","default")},7786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/divansh/homepage/frontend/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/divansh/homepage/frontend/app/admin/layout.tsx","default")},8335:(e,t,a)=>{Promise.resolve().then(a.bind(a,1961))},8549:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(687),s=a(3210),r=a(5814),i=a.n(r),l=a(6189),o=a(2894),d=a(4517);function c({onLoginSuccess:e}){let[t,a]=(0,s.useState)("admin"),[r,i]=(0,s.useState)(""),[l,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(!1),h=async a=>{a.preventDefault(),c(!0),o(null);try{let a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})}),n=await a.json();if(!a.ok)throw Error(n.error||"Login failed");e()}catch(e){o(e.message)}finally{c(!1)}};return(0,n.jsx)("div",{className:"add-form-container",style:{maxWidth:"400px",margin:"50px auto"},children:(0,n.jsxs)("form",{onSubmit:h,className:"add-form",children:[(0,n.jsx)("h3",{children:"Admin Login"}),l&&(0,n.jsx)("p",{className:"error-message",children:l}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"username",children:"Username"}),(0,n.jsx)("input",{type:"text",id:"username",value:t,readOnly:!0,disabled:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>i(e.target.value),required:!0,autoFocus:!0})]}),(0,n.jsx)("button",{type:"submit",className:"action-button add-button",disabled:d,children:d?"Logging in...":"Login"})]})})}function h({children:e}){let{theme:t}=(0,o.D)(),a=(0,l.useRouter)(),{isAuthenticated:s,checkAuthStatus:r,logout:h}=(0,d.I)(),u=async()=>{await h(),a.push("/")};return null===s?(0,n.jsx)("div",{className:`container ${t}`,children:(0,n.jsx)("p",{className:"loading-indicator",children:"Checking authentication..."})}):s?(0,n.jsx)("div",{className:t,children:(0,n.jsxs)("div",{className:"admin-container",children:[(0,n.jsxs)("header",{className:"admin-header",children:[(0,n.jsx)("h1",{children:"Admin Panel"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:u,className:"action-button-table cancel",style:{marginRight:"20px"},children:"Logout"}),(0,n.jsx)(i(),{href:"/",className:"back-link",children:"← Back to Dashboard"})]})]}),(0,n.jsxs)("div",{className:"admin-main",children:[(0,n.jsxs)("nav",{className:"admin-sidebar",children:[(0,n.jsx)(i(),{href:"/admin/projects",className:"admin-nav-link",children:"Projects"}),(0,n.jsx)(i(),{href:"/admin/labels",className:"admin-nav-link",children:"Labels"})]}),(0,n.jsx)("section",{className:"admin-content",children:e})]})]})}):(0,n.jsx)("div",{className:t,children:(0,n.jsx)(c,{onLoginSuccess:r})})}a(6080),a(2197)},8846:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=a(5239),s=a(8088),r=a(8170),i=a.n(r),l=a(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d={children:["",{children:["admin",{children:["labels",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7423)),"/home/divansh/homepage/frontend/app/admin/labels/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7786)),"/home/divansh/homepage/frontend/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"/home/divansh/homepage/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/divansh/homepage/frontend/app/admin/labels/page.tsx"],h={require:a,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/labels/page",pathname:"/admin/labels",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[447,825,567,552],()=>a(8846));module.exports=n})();